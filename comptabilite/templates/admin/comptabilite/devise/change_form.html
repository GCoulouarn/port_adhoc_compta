{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}
{{ block.super }}
<style>
.alert-info {
    border-left: 4px solid #17a2b8;
    background-color: #d1ecf1;
    border-color: #bee5eb;
    color: #0c5460;
}
.alert-warning {
    border-left: 4px solid #ffc107;
    background-color: #fff3cd;
    border-color: #ffeaa7;
    color: #856404;
}
</style>
{% endblock %}

{% block content %}
<div class="alert alert-info">
    <h6 class="alert-heading">
        <i class="fas fa-info-circle me-2"></i>
        Information sur la gestion des IDs
    </h6>
    <p class="mb-2">
        <strong>ID actuel :</strong> 
        {% if original.id %}
            {{ original.id }}
        {% else %}
            <em>Nouvelle devise</em>
        {% endif %}<br>
        <strong>Type de clé primaire :</strong> 
        <span class="badge bg-warning">Manuelle</span> 
        (non auto-incrémentée)
    </p>
    <p class="mb-2">
        <strong>Prochain ID disponible :</strong> 
        {% if not original.id %}
            <span class="badge bg-success">Calculé automatiquement</span>
        {% else %}
            <em>ID déjà attribué</em>
        {% endif %}
    </p>
    <p class="mb-0">
        <small>
            <i class="fas fa-exclamation-triangle me-1"></i>
            Les IDs des devises sont gérés manuellement. 
            Pour une nouvelle devise, l'ID sera calculé automatiquement.
        </small>
    </p>
</div>

<div class="alert alert-warning">
    <h6 class="alert-heading">
        <i class="fas fa-lightbulb me-2"></i>
        Conseils d'utilisation
    </h6>
    <ul class="mb-0">
        <li><strong>Code ISO :</strong> Utilisez le code ISO 4217 standard (ex: EUR, USD, GBP)</li>
        <li><strong>Intitulé :</strong> Nom complet de la devise (ex: Euro, Dollar américain)</li>
        <li><strong>Sigle :</strong> Symbole de la devise (ex: €, $, £)</li>
    </ul>
</div>

<div class="d-flex justify-content-between align-items-center mb-3">
    <h4>{% if original.id %}Modifier la devise{% else %}Nouvelle devise{% endif %}</h4>
    <div>
        <a href="{% url 'admin:comptabilite_devise_changelist' %}" class="btn btn-outline-secondary">
            <i class="fas fa-list me-1"></i>
            Voir toutes les devises
        </a>
        {% if original.id %}
        <a href="{% url 'comptabilite:devise_detail' original.id %}" class="btn btn-outline-primary">
            <i class="fas fa-eye me-1"></i>
            Voir les détails
        </a>
        {% endif %}
    </div>
</div>

{{ block.super }}
{% endblock %}
